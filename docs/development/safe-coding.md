# 安全なコーディング

## 実装前チェック

### 1. 仕様確認
```
- [ ] docs/ ディレクトリから関連ドキュメント検索完了
- [ ] 仕様不明な点をユーザーに確認済み
- [ ] 実装scope明確化済み
```

### 2. 既存コード調査
```
- [ ] 既存のコードパターン把握
- [ ] 使用ライブラリ・フレームワーク確認
- [ ] コーディング規約確認
```

### 3. セキュリティチェック
```
- [ ] 悪意のあるコードでないことを確認
- [ ] 機密情報の露出リスク評価
- [ ] セキュリティベストプラクティス適用
```

## 実装中ガイド

### コード作成
```typescript
// ❌ 避けるべき例：ライブラリ確認なし
import axios from 'axios'; // package.jsonで確認していない

// ✅ 推奨例：既存パターンに従う
// 既存コードでfetchが使用されている場合
const response = await fetch('/api/data');
```

### エラーハンドリング
```typescript
// ❌ 機密情報をログに出力
console.log('Error:', error.stack, 'API_KEY:', process.env.API_KEY);

// ✅ 安全なエラーハンドリング
console.log('Error occurred during data fetch');
```

## 実装後チェック

### 1. 動作確認
```bash
# 利用可能な場合は必ず実行
npm run lint
npm run typecheck
npm test
```

### 2. セキュリティ最終確認
```
- [ ] 機密情報が含まれていないか
- [ ] ログに機密情報が出力されないか
- [ ] セキュリティホールが存在しないか
```

### 3. コード品質確認
```
- [ ] 既存のパターンに従っているか
- [ ] 必要最小限の実装になっているか
- [ ] 不要なコメントが追加されていないか
```
